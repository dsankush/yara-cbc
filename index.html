<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yara Cashback Campaign Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="yara_logo.png" alt="Yara Logo" class="logo">
                    <div class="header-text">
                        <h1>Cashback Campaign Analytics</h1>
                        <p class="subtitle">Performance Dashboard</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn-action btn-download" id="downloadBtn">
                        <i class="fa-solid fa-download"></i>
                        <span>Export Data</span>
                    </button>
                </div>
            </div>
        </header>

        <div class="dashboard-container">
            <!-- Filters Panel -->
            <div class="filters-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fa-solid fa-filter"></i>
                        <span>Filters</span>
                    </div>
                    <button class="btn-reset" id="resetFilters">
                        <i class="fa-solid fa-rotate-right"></i>
                        Reset
                    </button>
                </div>
                
                <div class="filters-grid">
                    <div class="filter-item full-width">
                        <label class="filter-label">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            Universal Search
                        </label>
                        <div class="search-wrapper">
                            <input type="text" id="universalSearch" class="filter-input search-input" placeholder="Search across all fields...">
                        </div>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-regular fa-calendar"></i>
                            Date Range
                        </label>
                        <select id="dateRangeFilter" class="filter-select">
                            <option value="">All Time</option>
                            <option value="today">Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="last7days">Last 7 Days</option>
                            <option value="last30days">Last 30 Days</option>
                            <option value="thismonth">This Month</option>
                            <option value="lastmonth">Last Month</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-solid fa-location-dot"></i>
                            District
                        </label>
                        <select id="districtFilter" class="filter-select">
                            <option value="">All Districts</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-solid fa-leaf"></i>
                            Crop Type
                        </label>
                        <select id="cropFilter" class="filter-select">
                            <option value="">All Crops</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-solid fa-box"></i>
                            Product
                        </label>
                        <select id="productFilter" class="filter-select">
                            <option value="">All Products</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-solid fa-store"></i>
                            Retailer
                        </label>
                        <select id="retailerFilter" class="filter-select">
                            <option value="">All Retailers</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="filter-label">
                            <i class="fa-solid fa-circle-check"></i>
                            Status
                        </label>
                        <select id="statusFilter" class="filter-select">
                            <option value="">All Status</option>
                            <option value="Verified">Verified</option>
                            <option value="Pending">Pending</option>
                            <option value="Rejected">Rejected</option>
                        </select>
                    </div>
                </div>

                <div class="custom-date-panel" id="customDateRange" style="display: none;">
                    <div class="date-range-inputs">
                        <div class="date-input-group">
                            <label>From</label>
                            <input type="date" id="startDate" class="filter-input">
                        </div>
                        <div class="date-separator">
                            <i class="fa-solid fa-arrow-right"></i>
                        </div>
                        <div class="date-input-group">
                            <label>To</label>
                            <input type="date" id="endDate" class="filter-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- KPI Section -->
            <section class="metrics-section">
                <h2 class="section-title">Key Performance Indicators</h2>
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper primary">
                                <i class="fa-solid fa-qrcode"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge">Total</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="totalScans">0</h3>
                            <p class="kpi-label">Total Scans</p>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper success">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge">Unique</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="uniqueFarmers">0</h3>
                            <p class="kpi-label">Unique Farmers</p>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper warning">
                                <i class="fa-regular fa-clock"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge warning">Pending</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="pendingCount">0</h3>
                            <p class="kpi-label">Awaiting Approval</p>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper verified">
                                <i class="fa-solid fa-circle-check"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge success">Verified</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="verifiedCount">0</h3>
                            <p class="kpi-label">Verified Orders</p>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper danger">
                                <i class="fa-solid fa-circle-xmark"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge danger">Rejected</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="rejectedCount">0</h3>
                            <p class="kpi-label">Rejected Orders</p>
                        </div>
                    </div>

                    <div class="kpi-card highlight">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper trophy">
                                <i class="fa-solid fa-trophy"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge trophy">Winners</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="cashbackWinners">0</h3>
                            <p class="kpi-label">Cashback Winners</p>
                        </div>
                    </div>

                    <div class="kpi-card highlight">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper reward">
                                <i class="fa-solid fa-gift"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge reward">Distributed</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="totalCashback">â‚¹0</h3>
                            <p class="kpi-label">Total Cashback</p>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon-wrapper store">
                                <i class="fa-solid fa-shop"></i>
                            </div>
                            <div class="kpi-trend">
                                <span class="trend-badge">Active</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <h3 class="kpi-value" id="activeRetailers">0/59</h3>
                            <p class="kpi-label">Active Retailers</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="analytics-section">
                <h2 class="section-title">Analytics & Insights</h2>
                
                <div class="charts-grid">
                    <!-- Product Orders Chart -->
                    <div class="chart-card large">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-chart-column"></i>
                                <span>Product-wise Orders Analysis</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="productChart"></canvas>
                        </div>
                    </div>

                    <!-- Cashback Distribution Chart -->
                    <div class="chart-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-chart-pie"></i>
                                <span>Cashback Distribution</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="cashbackChart"></canvas>
                        </div>
                    </div>

                    <!-- Crop Distribution Chart -->
                    <div class="chart-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-seedling"></i>
                                <span>Crop-wise Distribution</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="cropChart"></canvas>
                        </div>
                    </div>

                    <!-- District Map -->
                    <div class="chart-card large">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-map-location-dot"></i>
                                <span>District-wise Farmer Distribution</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div id="indiaMap"></div>
                        </div>
                    </div>

                    <!-- Budget Consumption -->
                    <div class="chart-card large">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-wallet"></i>
                                <span>Budget Consumption Tracker</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div id="budgetTable"></div>
                        </div>
                    </div>

                    <!-- Top Retailers -->
                    <div class="chart-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fa-solid fa-ranking-star"></i>
                                <span>Top 10 Retailers</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="retailerChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
